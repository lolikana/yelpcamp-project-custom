<% layout("layout/boilerplate.ejs") %>
<section class="mx-auto flex h-full w-10/12 flex-col">
  <h1 class="page-h1 text-center">Edit Campground</h1>
  <div
    class="m-auto w-full max-w-xl rounded-lg border border-gray-200 bg-white py-3 px-5 shadow-md dark:border-gray-600 dark:bg-gray-800"
  >
    <form
      action="/campgrounds/<%= campground._id %>?_method=PUT"
      class="validated-form"
      method="POST"
      novalidate
      enctype="multipart/form-data"
    >
      <div class="group relative z-0 mb-6 mt-1 w-full">
        <input
          type="text"
          name="campground[title]"
          id="title"
          class="peer block w-full appearance-none border-0 border-b-2 border-gray-300 bg-transparent py-2.5 px-0 text-sm text-gray-900 valid:border-b-green-500 invalid:border-b-pink-600 focus:border-blue-600 focus:outline-none focus:ring-0 dark:border-gray-600 dark:text-white dark:focus:border-blue-500"
          placeholder=" "
          value="<%= campground.title %>"
          required
        />
        <label
          for="title"
          class="absolute top-3 -z-10 origin-[0] -translate-y-6 scale-75 transform text-sm text-gray-500 duration-300 peer-placeholder-shown:translate-y-0 peer-placeholder-shown:scale-100 peer-focus:left-0 peer-focus:-translate-y-6 peer-focus:scale-75 peer-focus:font-medium peer-focus:text-blue-600 dark:text-gray-400"
          >Title</label
        >
        <span
          class="error box-border w-full p-0 text-sm text-pink-600"
          aria-live="polite"
        ></span>
      </div>
      <div class="group relative z-0 mb-6 w-full">
        <input
          type="text"
          name="campground[location]"
          id="location"
          class="peer block w-full appearance-none border-0 border-b-2 border-gray-300 bg-transparent py-2.5 px-0 text-sm text-gray-900 valid:border-b-green-500 invalid:border-b-pink-600 focus:border-blue-600 focus:outline-none focus:ring-0 dark:border-gray-600 dark:text-white dark:focus:border-blue-500"
          placeholder=" "
          value="<%= campground.location %>"
          required
        />
        <label
          for="location"
          class="absolute top-3 -z-10 origin-[0] -translate-y-6 scale-75 transform text-sm text-gray-500 duration-300 peer-placeholder-shown:translate-y-0 peer-placeholder-shown:scale-100 peer-focus:left-0 peer-focus:-translate-y-6 peer-focus:scale-75 peer-focus:font-medium peer-focus:text-blue-600 dark:text-gray-400 peer-focus:dark:text-blue-500"
          >Location</label
        >
        <span
          class="error box-border w-full p-0 text-sm text-pink-600"
          aria-live="polite"
        ></span>
      </div>
      <div class="group relative z-0 mb-6 w-full">
        <textarea
          type="text"
          name="campground[description]"
          id="description"
          class="textarea-input peer block w-full appearance-none border-0 border-b-2 border-gray-300 bg-transparent py-2.5 px-0 text-sm text-gray-900 valid:border-b-green-500 invalid:border-b-pink-600 focus:border-blue-600 focus:outline-none focus:ring-0 dark:border-gray-600 dark:text-white dark:focus:border-blue-500"
          placeholder=" "
          rows="8"
          required
        >
<%= campground.description %></textarea
        >
        <label
          for="description"
          class="absolute top-3 -z-10 origin-[0] -translate-y-6 scale-75 transform text-sm text-gray-500 duration-300 peer-placeholder-shown:translate-y-0 peer-placeholder-shown:scale-100 peer-focus:left-0 peer-focus:-translate-y-6 peer-focus:scale-75 peer-focus:font-medium peer-focus:text-blue-600 dark:text-gray-400 peer-focus:dark:text-blue-500"
          >Description</label
        >
        <span
          class="error box-border w-full p-0 text-sm text-pink-600"
          aria-live="polite"
        ></span>
      </div>
      <div class="group relative z-0 mb-6 w-full">
        <div class="relative">
          <input
            type="number"
            name="campground[price]"
            id="price"
            class="peer block w-full appearance-none border-0 border-b-2 border-gray-300 bg-transparent py-2.5 px-0 pl-7 text-sm text-gray-900 valid:border-b-green-500 invalid:border-b-pink-600 focus:border-blue-600 focus:outline-none focus:ring-0 dark:border-gray-600 dark:text-white dark:focus:border-blue-500"
            placeholder=" "
            value="<%= campground.price %>"
            required
          />
          <div
            class="pointer-events-none absolute inset-y-0 left-0 flex items-center"
          >
            <svg
              aria-hidden="true"
              class="h-5 w-5 text-gray-500 dark:text-gray-400"
              fill="none"
              stroke="currentColor"
              viewBox="0 0 72 72"
            >
              <path
                style="
                  opacity: 1;
                  fill: rgb(156 163 175);
                  fill-opacity: 1;
                  fill-rule: nonzero;
                  stroke: none;
                  stroke-width: 259.50698853;
                  stroke-linecap: butt;
                  stroke-linejoin: round;
                  stroke-miterlimit: 4;
                  stroke-dasharray: none;
                  stroke-dashoffset: 0;
                  stroke-opacity: 1;
                "
                d="M 31.1875 0 C 13.904525 0.43835438 3.7379722e-013 14.612004 0 32 C 2.3684758e-015 49.663996 14.336004 64 32 64 C 49.663996 64 64 49.663996 64 32 C 64 14.336004 49.663996 1.3812956e-013 32 0 C 31.724 3.7007434e-017 31.461833 -0.0069580061 31.1875 0 z M 31.15625 5.5 C 31.439783 5.4910103 31.714297 5.5 32 5.5 C 46.628003 5.4999998 58.5 17.371998 58.5 32 C 58.499998 46.628001 46.628002 58.5 32 58.5 C 17.371999 58.499999 5.5 46.628002 5.5 32 C 5.4999999 17.657701 16.922915 5.9512829 31.15625 5.5 z "
              />
              <path
                style="
                  font-size: 53.81440353px;
                  font-style: normal;
                  font-variant: normal;
                  font-weight: bold;
                  font-stretch: normal;
                  text-align: start;
                  line-height: 100%;
                  writing-mode: lr-tb;
                  text-anchor: start;
                  opacity: 1;
                  fill: rgb(156 163 175);
                  fill-opacity: 1;
                  stroke: none;
                  stroke-width: 1px;
                  stroke-linecap: butt;
                  stroke-linejoin: miter;
                  stroke-opacity: 1;
                  font-family: Arial Narrow;
                "
                d="M 25.645354,38.743144 C 27.706139,41.625309 33.995692,41.833441 36.155115,40.6114 C 36.947727,40.162852 37.145708,38.864507 37.145725,37.98432 C 37.145708,37.380283 36.986739,36.905677 36.668816,36.560499 C 36.333199,36.215341 35.479466,35.339232 34.490338,35.080346 C 29.473962,33.785975 25.998702,32.169274 24.638637,30.995688 C 22.942961,29.528736 22.669211,28.570622 22.669213,26.016357 C 22.669211,23.462132 23.403703,21.32133 25.064052,19.785304 C 26.724393,18.24933 29.135426,17.481331 32.297159,17.481304 C 35.317562,17.481331 39.565451,18.278588 41.636566,20.737131 L 38.183516,24.493331 C 36.236051,22.858359 34.787665,22.710631 32.403139,22.710609 C 30.901751,22.710631 30.120168,22.926362 29.484299,23.3578 C 28.848414,23.772024 28.530476,24.315664 28.530483,24.988721 C 28.530476,25.592786 28.821918,26.09328 29.404815,26.490205 C 29.987693,26.904426 31.511133,27.525729 34.549225,28.354116 C 37.958218,29.286087 40.272103,30.416513 41.490888,31.745396 C 42.691968,33.074309 43.292518,34.843296 43.292541,37.052364 C 43.292518,39.710168 42.356366,41.901988 40.484082,43.627827 C 38.629421,45.353671 36.346462,46.694998 33.061111,46.694997 C 28.832157,46.694996 23.187374,45.201054 21.630014,42.439699"
              />
              <path
                style="
                  opacity: 1;
                  fill: rgb(156 163 175);
                  fill-opacity: 1;
                  fill-rule: nonzero;
                  stroke: none;
                  stroke-width: 259.50698853;
                  stroke-linecap: butt;
                  stroke-linejoin: round;
                  stroke-miterlimit: 4;
                  stroke-dasharray: none;
                  stroke-dashoffset: 0;
                  stroke-opacity: 1;
                "
                d="M 30.375,12.875 L 30.375,19.71875 L 33.625,19.71875 L 33.625,12.875 L 30.375,12.875 z M 30.375,44.96875 L 30.375,51.125 L 33.625,51.125 L 33.625,44.96875 L 30.375,44.96875 z "
              />
            </svg>
          </div>
        </div>
        <label
          for="price"
          class="absolute top-3 -z-10 origin-[0] -translate-y-6 scale-75 transform text-sm text-gray-500 duration-300 peer-placeholder-shown:translate-y-0 peer-placeholder-shown:scale-100 peer-focus:left-0 peer-focus:-translate-y-6 peer-focus:scale-75 peer-focus:font-medium peer-focus:text-blue-600 dark:text-gray-400 peer-focus:dark:text-blue-500"
        ></label>
        <span
          class="error box-border w-full p-0 text-sm text-pink-600"
          aria-live="polite"
        ></span>
      </div>
      <div class="group relative z-0 mb-6 w-full pt-5">
        <input
          class="block w-full cursor-pointer rounded-lg border border-gray-300 bg-gray-50 text-sm text-gray-900 focus:outline-none dark:border-gray-600 dark:bg-gray-700 dark:text-gray-400 dark:placeholder-gray-400"
          id="images"
          type="file"
          name="campground[images]"
          multiple
        />
        <label
          class="absolute top-3 z-10 origin-[0] -translate-y-6 scale-75 transform text-sm text-gray-500 duration-300 peer-placeholder-shown:translate-y-0 peer-placeholder-shown:scale-100 peer-focus:left-0 peer-focus:-translate-y-6 peer-focus:scale-75 peer-focus:font-medium peer-focus:text-blue-600 dark:text-gray-400"
          for="images"
          >Add More Images</label
        >
        <span
          class="error box-border w-full p-0 text-sm text-pink-600"
          aria-live="polite"
        ></span>
      </div>
      <div>
        <% campground.images.forEach((img, i) => { %>
        <div>
          <label for="image-<%= i %>">
            <img src="<%= img.url %>" alt="" />
            <input
              type="checkbox"
              id="image-<%= i %>"
              name="deleteImages[]"
              value="<%= img.filename %>"
            />
            Delete
          </label>
        </div>
        <% }) %>
      </div>
      <div class="flex flex-col justify-center gap-2">
        <button class="btn-submit">Edit Campground</button>
        <a href="/campgrounds">
          <div class="btn-back cursor-pointer text-center">Back to list</div>
        </a>
      </div>
    </form>
  </div>
</section>
